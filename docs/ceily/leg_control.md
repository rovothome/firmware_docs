요구사항
1. 더 부드럽게 움직일 수 있나?
1. 속도 제어를 하면 좋아지나?
   - 타이머 주기를 높이면 되는데, 이러면 속도가 너무 느림
   - ppr을 낮추면 되는데, 이러면 소음이 큼
결론: 지금 드라이버로는 지금 처럼 제어하는게 한계

현재 다리 컨트롤 하는 방법을 정리하자.
- current, target position이 있고, 명령을 받으면 target 포지션을 변경함
- 현재 포지션이 허용치를 넘어가면 명령을 받지 않음
- 위치 인식이 되고 나서 Target position이 한칸 더 움직인다.

각도를 직접 제어할 수 있나?

---
1 step에 몇도지? 0.96도 현재

ppr	25000
gear	15
ppr real	375000
dps	0.00096
	
control interval	0.0001
1 step per second	10000
	
degree per second	9.6
degree per check loop	0.96
- 1번 걸리면, 멈춰야해? > 속도를 늦춰
- 다 와가면 감속을해
- 아 이것도 s-curve?

---
(완료) [0] 모션시 다리 제어
- 모션시엔 기존 처럼 Spread/Fold로 주고, 멈춰야 하는 상황에서 Stop을 주자
- 언제 멈춰야하나?

---
(완료) [1] Stop시 사용자가 손으로 내리고 올렸을 때 다리가 움직이게 하자
0 Stop에서 속도를 인식하고, 속도가 어느 정도 이상이면? 다리를 제어하자

---
(완료) [2] 다리 리밋 스위치 노이즈를 제거하면서 다리의 모션 완료를 확실히 판단하기
- 리밋 스위치는 노이즈가 있다.
- 노이즈가 얼마나 있는지 확인해보자.
- 끝 도달에 대한 판단을 더 세분화 해 보자
- 한번 인식되면 maybe
- 두번 인식되면 hmm
- 계속 인식되면 absolute
- 모션 완료를 판단할 때 위치 정보를 활용하여, 이상 상태 판단하기
- 속도를 제어해서 가감속을 할 수 있게 한다

---
(완료) [3] 다 내려왔을 때 다리가 다 내려올 수 있는지 테스트하자, 그리고 걸려서 못내려온다면 침대를 다시 조금 올렸다가 다리 다 내리고 움직이자.

---
리펙토링 및 etc
[4] 필요하면 state Pattern을 적용하여, enter, exit 등을 통해 세부 구현하기
기존 개발 했던 모션 컨트롤러를 재사용 하자
leg 전체 state 만들고 제공하기
0 step 모터 제어를 분리하자
1 leg, state, controller 분리
1 각도 보유하고, 각도로 제어하기
2 Check limit switch 기존 공용 함수 사용

