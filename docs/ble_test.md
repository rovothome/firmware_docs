연결 성공과 실패 로그를 서버, 클라이언트 양쪽 로그를 확인하고 분석하자.

I (137810) ble_gap: connection established; status=0
I (137810) ble_gap: connection handle: 1
I (137810) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (137810) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (137820) ble_gap: conn_itvl=36, conn_latency=0, supervision_timeout=1000, encrypted=0, authenticated=0, bonded=0

I (137830) NimBLE: GAP procedure initiated:
I (137830) NimBLE: connection parameter update; conn_handle=1 itvl_min=24 itvl_max=40 latency=0 supervision_timeout=1000 min_ce_len=0 max_ce_len=0
I (137840) NimBLE:

I (137850) ble_gap: mtu update event; conn_handle=1 cid=4 mtu=256
I (142510) ble_gap: subscribe event; conn_handle=1 attr_handle=8 reason=1 prevn=0 curn=0 previ=0 curi=1
I (143860) ble_gap: connection updated; status=0
I (143860) ble_gap: connection handle: 1
I (143860) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (143860) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (143870) ble_gap: conn_itvl=12, conn_latency=0, supervision_timeout=960, encrypted=0, authenticated=0, bonded=0

I (147230) ble_gap: connection updated; status=0
I (147230) ble_gap: connection handle: 1
I (147230) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (147240) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (147240) ble_gap: conn_itvl=36, conn_latency=0, supervision_timeout=1000, encrypted=0, authenticated=0, bonded=0

I (150160) ble_gap: subscribe event; conn_handle=1 attr_handle=8 reason=2 prevn=0 curn=0 previ=1 curi=0
I (150160) ble_gap: disconnected from peer; reason=531
I (150160) NimBLE: GAP procedure initiated: advertise;
I (150170) NimBLE: disc_mode=2
I (150170) NimBLE:  adv_channel_map=0 own_addr_type=0 adv_filter_policy=0 adv_itvl_min=160 adv_itvl_max=176
I (150180) NimBLE:

I (150180) ble_gap: advertising started!
I (155970) ble_gap: connection established; status=0
I (155970) ble_gap: connection handle: 1
I (155970) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (155970) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (155980) ble_gap: conn_itvl=36, conn_latency=0, supervision_timeout=1000, encrypted=0, authenticated=0, bonded=0

I (155990) NimBLE: GAP procedure initiated:
I (155990) NimBLE: connection parameter update; conn_handle=1 itvl_min=24 itvl_max=40 latency=0 supervision_timeout=1000 min_ce_len=0 max_ce_len=0
I (156000) NimBLE:

I (156010) ble_gap: mtu update event; conn_handle=1 cid=4 mtu=256
I (161270) ble_gap: subscribe event; conn_handle=1 attr_handle=8 reason=1 prevn=0 curn=0 previ=0 curi=1
I (162350) ble_gap: connection updated; status=0
I (162350) ble_gap: connection handle: 1
I (162350) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (162360) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (162360) ble_gap: conn_itvl=12, conn_latency=0, supervision_timeout=960, encrypted=0, authenticated=0, bonded=0

I (166180) ble_gap: connection updated; status=0
I (166180) ble_gap: connection handle: 1
I (166180) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (166180) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (166190) ble_gap: conn_itvl=36, conn_latency=0, supervision_timeout=1000, encrypted=0, authenticated=0, bonded=0

I (167660) ble_gap: subscribe event; conn_handle=1 attr_handle=8 reason=2 prevn=0 curn=0 previ=1 curi=0
I (167670) ble_gap: disconnected from peer; reason=531
I (167670) NimBLE: GAP procedure initiated: advertise;
I (167670) NimBLE: disc_mode=2
I (167680) NimBLE:  adv_channel_map=0 own_addr_type=0 adv_filter_policy=0 adv_itvl_min=160 adv_itvl_max=176
I (167690) NimBLE:

I (167690) ble_gap: advertising started!
I (179980) ble_gap: connection established; status=0
I (179980) ble_gap: connection handle: 1
I (179980) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (179980) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (179990) ble_gap: conn_itvl=36, conn_latency=0, supervision_timeout=1000, encrypted=0, authenticated=0, bonded=0

I (180000) NimBLE: GAP procedure initiated:
I (180000) NimBLE: connection parameter update; conn_handle=1 itvl_min=24 itvl_max=40 latency=0 supervision_timeout=1000 min_ce_len=0 max_ce_len=0
I (180020) NimBLE:

I (180020) ble_gap: mtu update event; conn_handle=1 cid=4 mtu=256
I (182560) ble_gap: subscribe event; conn_handle=1 attr_handle=8 reason=1 prevn=0 curn=0 previ=0 curi=1
I (183230) ble_gap: connection updated; status=0
I (183230) ble_gap: connection handle: 1
I (183230) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (183240) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (183240) ble_gap: conn_itvl=12, conn_latency=0, supervision_timeout=960, encrypted=0, authenticated=0, bonded=0

I (186200) ble_gap: connection updated; status=0
I (186200) ble_gap: connection handle: 1
I (186200) ble_gap: device id address: type=0, value=52:B9:4F:BD:F5:F0
I (186210) ble_gap: peer id address: type=0, value=88:71:96:5A:54:68
I (186210) ble_gap: conn_itvl=36, conn_latency=0, supervision_timeout=1000, encrypted=0, authenticated=0, bonded=0

I (195020) ble_gap: subscribe event; conn_handle=1 attr_handle=8 reason=2 prevn=0 curn=0 previ=1 curi=0
I (195020) ble_gap: disconnected from peer; reason=531
I (195030) NimBLE: GAP procedure initiated: advertise;
I (195030) NimBLE: disc_mode=2
I (195040) NimBLE:  adv_channel_map=0 own_addr_type=0 adv_filter_policy=0 adv_itvl_min=160 adv_itvl_max=176
I (195040) NimBLE:

I (195050) ble_gap: advertising started!


```
Client is not connected
DEBUG:bleak.backends.winrt.scanner:Received 5F:96:3A:99:93:30: .
DEBUG:bleak.backends.winrt.scanner:Received 5F:96:3A:99:93:30: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
Client is not connected
DEBUG:bleak.backends.winrt.scanner:Received 5F:96:3A:99:93:30: .
DEBUG:bleak.backends.winrt.scanner:Received 5F:96:3A:99:93:30: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B8:C2: WALLY_CHAN1990.
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 3F:04:5F:7E:E3:AF: .
Client is not connected
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B8:C2: WALLY_CHAN1990.
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B8:C2: .
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B8:C2: WALLY_CHAN1990.
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B8:C2: WALLY_CHAN1990.
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B8:C2: WALLY_CHAN1990.
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B8:C2: WALLY_CHAN1990.
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B8:C2: .
Client is not connected
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B9:52: WALLY_3e447a60.
DEBUG:bleak.backends.winrt.scanner:6 devices found. Watcher status: <BluetoothLEAdvertisementWatcherStatus.STOPPED: 3>.
DEBUG:bleak.backends.winrt.client:Connecting to BLE device @ F0:F5:BD:4F:B9:52
DEBUG:bleak.backends.winrt.client:getting services (service_cache_mode=None, cache_mode=None)...
Client is not connected
DEBUG:bleak.backends.winrt.client:session_status_changed_event_handler: id: BluetoothLE#BluetoothLE68:54:5a:96:71:88-f0:f5:bd:4f:b9:52, error: <BluetoothError.SUCCESS: 0>, status: <GattSessionStatus.ACTIVE: 1>
DEBUG:bleak.backends.winrt.client:max_pdu_size_changed_handler: 256
DEBUG:bleak.backends.winrt.client:F0:F5:BD:4F:B9:52: services changed
DEBUG:bleak.backends.winrt.client:F0:F5:BD:4F:B9:52: services changed
DEBUG:bleak.backends.winrt.client:disposing service objects
DEBUG:bleak.backends.winrt.client:closing requester
DEBUG:bleak.backends.winrt.client:closing session
DEBUG:bleak.backends.winrt.client:Disconnecting from BLE device...
Error connecting to F0:F5:BD:4F:B9:52:
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 487, in connect
    self.services = await self.get_services(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 743, in get_services
    result = await FutureLike(service.get_characteristics_async(*args))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 1129, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 1072, in result
    raise asyncio.CancelledError
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\dell\repositories\firmware\ble_client\control\ble_controller.py", line 57, in manage_connection
    await self.client.connect()
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\__init__.py", line 615, in connect
    return await self._backend.connect(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 443, in connect
    async with async_timeout(timeout):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\timeouts.py", line 115, in __aexit__
    raise TimeoutError from exc_val
TimeoutError
connection state: BleConnectionState.CONNECTING
DEBUG:bleak.backends.winrt.scanner:Received 57:3D:B6:1D:D1:6F: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 57:3D:B6:1D:D1:6F: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 57:3D:B6:1D:D1:6F: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B9:52: WALLY_3e447a60.
DEBUG:bleak.backends.winrt.scanner:6 devices found. Watcher status: <BluetoothLEAdvertisementWatcherStatus.STOPPED: 3>.
DEBUG:bleak.backends.winrt.client:Connecting to BLE device @ F0:F5:BD:4F:B9:52
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B9:52: .
DEBUG:bleak.backends.winrt.client:getting services (service_cache_mode=None, cache_mode=None)...
DEBUG:bleak.backends.winrt.client:session_status_changed_event_handler: id: BluetoothLE#BluetoothLE68:54:5a:96:71:88-f0:f5:bd:4f:b9:52, error: <BluetoothError.SUCCESS: 0>, status: <GattSessionStatus.ACTIVE: 1>
DEBUG:bleak.backends.winrt.client:max_pdu_size_changed_handler: 256
DEBUG:bleak.backends.winrt.client:F0:F5:BD:4F:B9:52: services changed
DEBUG:bleak.backends.winrt.client:F0:F5:BD:4F:B9:52: services changed
DEBUG:bleak.backends.winrt.client:closing requester
DEBUG:bleak.backends.winrt.client:closing session
DEBUG:bleak.backends.winrt.client:Disconnecting from BLE device...
Error connecting to F0:F5:BD:4F:B9:52:
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 487, in connect
    self.services = await self.get_services(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 720, in get_services
    await FutureLike(self._requester.get_gatt_services_async(*srv_args)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 1129, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 1072, in result
    raise asyncio.CancelledError
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\dell\repositories\firmware\ble_client\control\ble_controller.py", line 57, in manage_connection
    await self.client.connect()
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\__init__.py", line 615, in connect
    return await self._backend.connect(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 443, in connect
    async with async_timeout(timeout):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\timeouts.py", line 115, in __aexit__
    raise TimeoutError from exc_val
TimeoutError
connection state: BleConnectionState.CONNECTING
DEBUG:bleak.backends.winrt.scanner:Received CF:E7:47:6F:00:8F: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 75:36:61:28:D9:49: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 45:F7:AC:CA:80:FB: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 75:83:7E:C9:3A:A4: .
DEBUG:bleak.backends.winrt.scanner:Received 57:3D:B6:1D:D1:6F: .
DEBUG:bleak.backends.winrt.scanner:Received 20:54:15:22:AE:74: .
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B9:52: WALLY_3e447a60.
DEBUG:bleak.backends.winrt.scanner:7 devices found. Watcher status: <BluetoothLEAdvertisementWatcherStatus.STOPPED: 3>.
DEBUG:bleak.backends.winrt.client:Connecting to BLE device @ F0:F5:BD:4F:B9:52
DEBUG:bleak.backends.winrt.client:getting services (service_cache_mode=None, cache_mode=None)...
DEBUG:bleak.backends.winrt.client:session_status_changed_event_handler: id: BluetoothLE#BluetoothLE68:54:5a:96:71:88-f0:f5:bd:4f:b9:52, error: <BluetoothError.SUCCESS: 0>, status: <GattSessionStatus.CLOSED: 0>
DEBUG:bleak.backends.winrt.client:max_pdu_size_changed_handler: 23
DEBUG:bleak.backends.winrt.client:F0:F5:BD:4F:B9:52: services changed
DEBUG:bleak.backends.winrt.client:disposing service objects
DEBUG:bleak.backends.winrt.client:closing requester
DEBUG:bleak.backends.winrt.client:closing session
DEBUG:bleak.backends.winrt.client:Disconnecting from BLE device...
Error connecting to F0:F5:BD:4F:B9:52: [WinError -2147023673] 사용자가 작업을 취소했습니다.
Traceback (most recent call last):
  File "C:\Users\dell\repositories\firmware\ble_client\control\ble_controller.py", line 57, in manage_connection
    await self.client.connect()
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\__init__.py", line 615, in connect
    return await self._backend.connect(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 487, in connect
    self.services = await self.get_services(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 743, in get_services
    result = await FutureLike(service.get_characteristics_async(*args))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 1129, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\bleak\backends\winrt\client.py", line 1079, in result
    raise WinError(error_code)
OSError: [WinError -2147023673] 사용자가 작업을 취소했습니다.
connection state: BleConnectionState.CONNECTING
DEBUG:bleak.backends.winrt.scanner:Received F0:F5:BD:4F:B9:52: WALLY_3e447a60.
DEBUG:bleak.backends.winrt.scanner:1 devices found. Watcher status: <BluetoothLEAdvertisementWatcherStatus.STOPPED: 3>.
DEBUG:bleak.backends.winrt.client:Connecting to BLE device @ F0:F5:BD:4F:B9:52
DEBUG:bleak.backends.winrt.client:getting services (service_cache_mode=None, cache_mode=None)...
DEBUG:bleak.backends.winrt.client:session_status_changed_event_handler: id: BluetoothLE#BluetoothLE68:54:5a:96:71:88-f0:f5:bd:4f:b9:52, error: <BluetoothError.SUCCESS: 0>, status: <GattSessionStatus.ACTIVE: 1>
DEBUG:bleak.backends.winrt.client:max_pdu_size_changed_handler: 256
DEBUG:bleak.backends.winrt.client:F0:F5:BD:4F:B9:52: services changed
DEBUG:bleak.backends.winrt.client:F0:F5:BD:4F:B9:52: services changed
Connected to F0:F5:BD:4F:B9:52
```




---
2025/7/7

```
I (9969) ble_gap: connection established; status=0
I (9969) ble_gap: connection handle: 1
I (9969) ble_gap: device id address: type=0, value=F2:B8:4F:BD:F5:F0
I (9979) ble_gap: peer id address: type=1, value=66:3F:6A:98:25:7E
I (9979) ble_gap: conn_itvl=24, conn_latency=0, supervision_timeout=72, encrypted=0, authenticated=0, bonded=0

I (9989) NimBLE: GAP procedure initiated:
I (9999) NimBLE: connection parameter update; conn_handle=1 itvl_min=24 itvl_max=40 latency=0 supervision_timeout=200 min_ce_len=0 max_ce_len=0
I (10009) NimBLE:

I (11819) ble_gap: connection updated; status=520
I (11819) ble_gap: connection handle: 1
I (11819) ble_gap: device id address: type=0, value=F2:B8:4F:BD:F5:F0
I (11829) ble_gap: peer id address: type=1, value=66:3F:6A:98:25:7E
I (11829) ble_gap: conn_itvl=24, conn_latency=0, supervision_timeout=72, encrypted=0, authenticated=0, bonded=0

I (11839) ble_gap: disconnected from peer; reason=520
I (11849) NimBLE: GAP procedure initiated: advertise;
I (11849) NimBLE: disc_mode=2
I (11849) NimBLE:  adv_channel_map=0 own_addr_type=0 adv_filter_policy=0 adv_itvl_min=160 adv_itvl_max=176
I (11859) NimBLE:

I (11869) ble_gap: advertising started!
I (11869) ble_gap: connection established; status=0
I (11869) ble_gap: connection handle: 1
I (11879) ble_gap: device id address: type=0, value=F2:B8:4F:BD:F5:F0
I (11879) ble_gap: peer id address: type=1, value=66:3F:6A:98:25:7E
I (11889) ble_gap: conn_itvl=24, conn_latency=0, supervision_timeout=72, encrypted=0, authenticated=0, bonded=0

I (11899) NimBLE: GAP procedure initiated:
I (11899) NimBLE: connection parameter update; conn_handle=1 itvl_min=24 itvl_max=40 latency=0 supervision_timeout=200 min_ce_len=0 max_ce_len=0
I (11919) NimBLE:

I (13779) tof: tof[2] resolution: 64
I (13819) tof: tof[2] ranging mode: 1
I (13849) tof: tof[2] ranging frequency: 20
I (13879) tof: tof[2] sharpener percentage: 4
I (13909) ble_gap: connection updated; status=0
I (13909) ble_gap: connection handle: 1
I (13909) ble_gap: device id address: type=0, value=F2:B8:4F:BD:F5:F0
I (13909) ble_gap: peer id address: type=1, value=66:3F:6A:98:25:7E
I (13919) ble_gap: conn_itvl=36, conn_latency=0, supervision_timeout=200, encrypted=0, authenticated=0, bonded=0

I (13969) tof: tof[2] initialized and started ranging
I (14039) ble_gap: mtu update event; conn_handle=1 cid=4 mtu=256
I (19579) ble_gap: disconnected from peer; reason=520
I (19579) NimBLE: GAP procedure initiated: advertise;
I (19579) NimBLE: disc_mode=2
I (19579) NimBLE:  adv_channel_map=0 own_addr_type=0 adv_filter_policy=0 adv_itvl_min=160 adv_itvl_max=176
I (19589) NimBLE:

I (19589) ble_gap: advertising started!
```


1. 보안 관련 문제 (암호화 X, 인증 X)
최신 iOS/Android는 BLE 연결 직후 암호화나 페어링을 기대함.

인증이 없는 연결을 신뢰하지 않고, 짧은 시간 내에 끊을 수 있음.

2. Connection Parameter 업데이트 실패 또는 비호환
초기 연결에서 conn_itvl=24 → 업데이트 시 itvl_min=24 ~ max=40 로 시도.

status=520은 connection parameter update 후 응답이 없거나 거부된 것일 수 있음.

3. MTU negotiation, Service Discovery 중 timeout
mtu=256 설정은 좋지만, 폰이 MTU 변경 전 송신을 시도하면 문제가 발생할 수 있음.

GATT 서비스/캐릭터리스틱이 등록되지 않았거나, 서비스 탐색 중 타임아웃이 발생하면 연결이 종료될 수 있음.


